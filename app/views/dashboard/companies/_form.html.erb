<section>
  <div class="container">
    <%= form_with model: [:dashboard, @company], class: 'autoload_all pb-6' do |f| %>
    
    <div class="p-4">

      <div class="form-group row justify-content-md-center">
        <label class="col-md-2 col-lg-2 col-form-label"><strong>Buscar foto</strong></label>
        <div class="col-md-10 col-lg-8">
          <div class="custom-file mb-3">
            <%= f.file_field :photo_company, class:" custom-file-input", id:"browse" %>
            <%= f.label :photo_company, class: "custom-file-label" do %>
              Selecione um Arquivo
            <% end %>
          </div>
        </div>
      </div>

      <div class="p-2 mb-2 text-center">
        <h6>Foto da Empresa</h6>
        <% if @company.photo_company.attached? %>
          <%= image_tag @company.photo_company, class: "img-fluid", width: '350', title: @company.fantasy_name %>
        <% else %>
          <%= image_tag 'sem-imagem.jpg', class:"img-fluid img-item" %>
        <% end %>
      </div>
      
      <ul class="nav nav-tabs justify-content-center mt-4" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="basic-tab" data-toggle="tab" href="#basic" role="tab" aria-controls="basic" aria-selected="true">Dados da Empresa</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="address-tab" data-toggle="tab" href="#address" role="tab" aria-controls="address" aria-selected="false">Endereço</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="information-tab" data-toggle="tab" href="#information" role="tab" aria-controls="information" aria-selected="false">Redes Sociais</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Contatos</a>
        </li>
      </ul>
      
      <div class="tab-content mt-4" id="myTabContent">
        <div class="tab-pane fade show active" id="basic" role="tabpanel" aria-labelledby="basic-tab">
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :social_name %>
                <%= f.text_field :social_name, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :fantasy_name %>
                <%= f.text_field :fantasy_name, class: "form-control" %>
              </div>
            </div>
          
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :cnpj %>
                <%= f.text_field :cnpj, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :ie %>
                <%= f.text_field :ie, class: "form-control" %>
              </div>
            </div>
          
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :phone %>
                <%= f.text_field :phone, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :email %>
                <%= f.text_field :email, class: "form-control" %>
              </div>
            </div>
          
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-12 col-lg-10">
                <%= f.label :site %>
                <%= f.text_field :site, class: "form-control" %>
              </div>
            </div>
        </div>
        
        <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-12 col-lg-10">
                <%= f.label :street %>
                <%= f.text_field :street, class: "form-control" %>
              </div>
            </div>
          
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :number %>
                <%= f.text_field :number, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :complement %>
                <%= f.text_field :complement, class: "form-control" %>
              </div>
            </div>
          
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :district %>
                <%= f.text_field :district, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :zip_code %>
                <%= f.text_field :zip_code, class: "form-control" %>
              </div>
            </div>
          
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :city %>
                <%= f.text_field :city, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= f.label :state %>
                <%= f.text_field :state, class: "form-control" %>
              </div>
            </div>
        </div>
        
        <div class="tab-pane fade" id="information" role="tabpanel" aria-labelledby="information-tab">
          <%= f.fields_for :extra_informations do |ff| %>
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= ff.label :facebook %>
                <%= ff.text_field :facebook, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= ff.label :instagram %>
                <%= ff.text_field :instagram, class: "form-control" %>
              </div>
            </div>
          
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-6 col-lg-5">
                <%= ff.label :linkedin %>
                <%= ff.text_field :linkedin, class: "form-control" %>
              </div>
              <div class="form-group col-md-6 col-lg-5">
                <%= ff.label :youtube %>
                <%= ff.text_field :youtube, class: "form-control" %>
              </div>
            </div>
          <% end %>
        </div>
        
        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
            <div class="form-row justify-content-lg-center">
              <div class="form-group col-md-12 col-lg-10">
                <%= f.fields_for :contacts do |contact_form| %>
                  <%= render "contact_fields", f: contact_form %>
                <% end %>
                <%= link_to_add_fields "Adicionar novo Contato", f, :contacts %>
              </div>
            </div>
            
        </div>
      </div>
      
    </div>
    
    <div class="col-md-12 col-lg-10 offset-lg-1">
      <div class="px-4 mb-4 text-center">
        <%= f.submit class: 'btn btn-success', data: { disable_with: 'Criando....⌛'} %>
        <%= link_to 'Cancelar', dashboard_companies_path, class: "btn btn-danger ml-1" %>
      </div>
    </div>
    
    <% end %>
  </div>
</section>
